---
import {
  ArrowLeftIcon,
} from "@phosphor-icons/react";
import { MobileNav } from "@/components/header/MobileNav";
import { HeaderSocialLinks } from "@/components/data/social";
import { mainLinks } from "@/components/header/index";

interface Props {
  type?: "main" | "project";
  themeColor?: string;
}

const { type = "main", themeColor } = Astro.props;
---


<header
  class="fixed top-0 left-0 right-0 z-40 py-2 bg-background border-b"
  class:list={[!themeColor && "dark:bg-gray-900"]}
>
  <nav class="max-w-8xl mx-auto px-4 md:px-12">
    <div class="flex items-center justify-between">
      <!-- Logo / Brand -->
      {
        type === "main" ? (
          <a
            href="/#topCover"
            class="flex items-center gap-3 py-3 text-gray-900 dark:text-white font-semibold no-underline transition-opacity hover:opacity-100 hover:[&>#headerLogo]:ring-2"
          >
            <img
              id="headerLogo"
              src="/assets/imgs/index/profileAnimate.png"
              alt="Logo"
              width="40"
              height="40"
              class="flex-shrink-0 rounded-full"
            />
            <img
              src="/assets/imgs/index/sign.svg"
              alt="Logo"
              class="text-primary max-h-7 mt-2"
            />
          </a>
        ) : (
          <button
            onclick="history.back()"
            class="flex items-center text-gray-900 dark:text-white font-bold no-underline transition-opacity hover:bg-muted p-4 rounded-full cursor-pointer border-0 bg-transparent"
          >
            <ArrowLeftIcon className="size-6" />
          </button>
        )
      }

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center gap-0">
        {
          type === "main" ? (
            <>
              {mainLinks.map((link) => (
                <a
                  href={link.href}
                  class="flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 no-underline text-lg rounded-full transition-all hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 whitespace-nowrap"
                >
                  {link.label}
                </a>
              ))}
              <span class="text-gray-400 px-2">ï½œ</span>
            </>
          ) : (
            <></>
          )
        }

        <!-- Social Links -->
        <HeaderSocialLinks client:load />
      </div>

      <!-- Mobile Navigation (Sheet) -->
      <MobileNav client:load type={type} themeColor={themeColor} />
    </div>
  </nav>
</header>
